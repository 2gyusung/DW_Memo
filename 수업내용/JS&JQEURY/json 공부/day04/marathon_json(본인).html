<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=marathon, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 제1회 DW 마라톤 참가자 리스트
      /*
        no : 마라톤 등번호
        participant : 참가자
        isComplete : 마라톤 완주 여부 (true : 완주, false: 미완주)
        type : 마라톤 코스
        records : 완주 기록
       */
      const marathonList = [
        {
          no: 300,
          participant: "현상원",
          isComplete: false,
          type: "half marathon",
          records: "null",
        },
        {
          no: 400,
          participant: "류근환",
          isComplete: true,
          type: "half marathon",
          records: "2022-04-01 13:35:00",
        },
        {
          no: 410,
          participant: "강인석",
          isComplete: true,
          type: "half marathon",
          records: "2022-04-01 13:37:20",
        },
        {
          no: 500,
          participant: "유영준",
          isComplete: true,
          type: "half marathon",
          records: "2022-04-01 13:40:15",
        },
        {
          no: 201,
          participant: "이승섭",
          isComplete: true,
          type: "half marathon",
          records: "2022-04-01 13:31:45",
        },
        {
          no: 555,
          participant: "홍준호",
          isComplete: false,
          type: "half marathon",
          records: "null",
        },
        {
          no: 777,
          participant: "이정배",
          isComplete: true,
          type: "half marathon",
          records: "null",
          participant: '현상원',
          isComplete: false,
          type: 'half marathon',
          records: 'null',
        },
        {
          no: 400,
          participant: '류근환',
          isComplete: true,
          type: 'half marathon',
          records: '2022-04-01 13:35:00',
        },
        {
          no: 410,
          participant: '강인석',
          isComplete: true,
          type: 'half marathon',
          records: '2022-04-01 13:37:20',
        },
        {
          no: 500,
          participant: '유영준',
          isComplete: true,
          type: 'half marathon',
          records: '2022-04-01 13:40:15',
        },
        {
          no: 201,
          participant: '이승섭',
          isComplete: true,
          type: 'half marathon',
          records: '2022-04-01 13:31:45',
        },
        {
          no: 555,
          participant: '홍준호',
          isComplete: false,
          type: 'half marathon',
          records: 'null',
        },
        {
          no: 777,
          participant: '이정배',
          isComplete: true,
          type: 'half marathon',
          records: 'null',

        },
      ];
      /*
        1. half marathon에 참여한 참가자는 총 몇 명인지 구하고 출력하시오.

        
        2. 완주하지 못한 참가자의 이름과 등번호를 출력하시오.
        3. 완주는 했는데 기록이 없는 참가자의 이름과 등번호를 출력하시오.
        4. 완주한 사람 중 가장 기록이 좋은 참가자의 이름과 등번호를 출력하시오.
        (마라톤 시작 시간은 '2022-04-01 13:00:00' 입니다.)
        5. 완주한 사람들의 평균 기록을 구하고 출력하시오.
        (단, 기록이 null인 사람은 제외)
        */

      //  문제 풀음 1번문제

      var halfMarathon = 0; // count 변수
      for (var i = 0; i < marathonList.length; i++) {
        if (marathonList[i].type === "half marathon") {
         ++halfMarathon;
        }
      }
      console.log(halfMarathon);
      // 1번문제 foreach 이해하기

      //  문제 풀음 2번문제
      var isCompleted = 0;
      for (var i = 0; i < marathonList.length; i++) {
        if (!marathonList[i].isComplete) {
          console.log(marathonList[i].participant);
          console.log(marathonList[i].no);
        }
      }

      //  문제 풀음 3번문제
      var finishRecords = 0;
      for (var i = 0; i < marathonList.length; i++) {
        if (marathonList[i].records == "null");
       
        console.log(marathonList[i].participant);
        console.log(marathonList[i].no);
      }
      // 4번문제 못 풀음
        // 이해 못함
      // var recordsTop = 0;
      // for(var i = 0; i<marathonList.length; i++) {
      //   if(marathonList[i].records === );
      // };
      // var start = marathonList[0].records;
      // var firstFinish = new Date(start);
      // console.log(start);
      var marathonStartTime = new Date('2022-04-01 13:00:00').getTime();
        var min = 0;
        var temp = 0;
        var cnt = 0;
        for(var i=0; i<marathonList.length; i++){
          if(marathonList[i].records !== 'null'){
            var participantTime = new Date(marathonList[i].records).getTime();
            var diffTime = participantTime - marathonStartTime;1
            if(cnt === 0){
              min = diffTime
            }
            ++cnt;
            if(min > diffTime){
                min = diffTime;
                temp = i;
            }
          }
        }
        console.log(marathonList[temp]);

      // 5번문제  못 풀음

      // var zero = marathonList[0].records;
      // var one = marathonList[1].records;
      // var two = marathonList[2].records;
      // var three = marathonList[3].records;
      // var four = marathonList[4].records;
      // var five = marathonList[5].records;
      // var six = marathonList[6].records;
      // for(var i = 0; i<marathonList.records.length; i++) {
      // var tot = zero + two + three + four + five + six;
      // var avg = tot/6;
      // console.log(avg);
      // }

       //  문제 풀음 1번문제
        
       var halfMarathon = 0;
        for(var i = 0; i<marathonList.length; i++) {
          if(marathonList[i].type ===  'half marathon') {
            halfMarathon ++;
          }
        }
        console.log(halfMarathon);
       
       //  문제 풀음 2번문제 
       var isCompleted = 0;
     for(var i =0; i<marathonList.length; i++) {
       if(!marathonList[i].isComplete) {
         console.log(marathonList[i].participant);
         console.log(marathonList[i].no);
          
       }
     }


    //  문제 풀음 3번문제
    var finishRecords = 0;
    for(var i = 0; i<marathonList.length; i++) {
      if(marathonList[i].records == 'null');
      console.log(marathonList[i].records);
      console.log(marathonList[i].no);
      console.log(marathonList[i].participant);
      
    }
    // 4번문제 못 풀음 

    
    // var recordsTop = 0;
    // for(var i = 0; i<marathonList.length; i++) {
    //   if(marathonList[i].records === );
    // };
    // var start = marathonList[0].records;
    // var firstFinish = new Date(start);
    // console.log(start);

    // 5번문제  못 풀음 
    var marathonStartTime = new Date('2022-04-01 13:00:00').getTime();
        var totalTime = 0;//기록이 null이 아니고 완주한 사람시간 총 합
        var cnt = 0;//기록이 null이 아니고 완주한 사람 카운팅
        for(var i=0; i<marathonList.length; i++){
          if(marathonList[i].records !== 'null'){
            var participantTime = new Date(marathonList[i].records).getTime();
            var diffMinute = (participantTime - marathonStartTime) / (1000 * 60);
            totalTime += diffMinute;
            ++cnt;
          }
        }
        console.log(totalTime / cnt);

    // var zero = marathonList[0].records;
    // var one = marathonList[1].records;
    // var two = marathonList[2].records;
    // var three = marathonList[3].records;
    // var four = marathonList[4].records;
    // var five = marathonList[5].records;
    // var six = marathonList[6].records;
    // for(var i = 0; i<marathonList.records.length; i++) {
    // var tot = zero + two + three + four + five + six;
    // var avg = tot/6;
    // console.log(avg);
    // }

    </script>
  </body>
</html>
